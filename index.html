<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title></title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="./images/WIChatIconEn1c.png" alt="WIChatLogo"></span></h1>
<div class="details">
<span id="revnumber">version 8.2 EN,</span>
<span id="revdate">January 2023</span>
<br><span id="revremark">(based upon AsciiDoc version)</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">1.1. Requirements Overview</a></li>
<li><a href="#_quality_goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholders">1.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a>
<ul class="sectlevel2">
<li><a href="#_technical_constraints">2.1. Technical Constraints</a></li>
<li><a href="#_organizational_constraints">2.2. Organizational Constraints</a></li>
<li><a href="#_political_constraints">2.3. Political Constraints</a></li>
</ul>
</li>
<li><a href="#section-context-and-scope">3. Context and Scope</a>
<ul class="sectlevel2">
<li><a href="#_description">3.1. Description</a></li>
<li><a href="#_business_context">3.2. Business Context</a></li>
<li><a href="#_technical_context">3.3. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_technology_decisions">4.1. Technology decisions</a></li>
<li><a href="#_top_level_decomposition_decisions">4.2. Top-level decomposition decisions</a></li>
<li><a href="#_decisions_to_achieve_key_quality_goals">4.3. Decisions to achieve key quality goals</a></li>
<li><a href="#_organizational_decisions">4.4. Organizational decisions</a></li>
</ul>
</li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_context">5.1. Context</a></li>
<li><a href="#_whitebox_overall_system">5.2. Whitebox Overall System</a></li>
<li><a href="#_level_2">5.3. Level 2</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_abstract_states_of_the_application">6.1. Abstract states of the application</a></li>
<li><a href="#_login_of_a_user">6.2. Login of a user</a></li>
<li><a href="#_game">6.3. Game</a></li>
<li><a href="#_statistics_of_a_user">6.4. Statistics of a user</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure_level_1">7.1. Infrastructure Level 1</a></li>
</ul>
</li>
<li><a href="#section-concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_user_experience_ux">8.1. User Experience (UX)</a></li>
<li><a href="#_internationalization">8.2. Internationalization</a></li>
<li><a href="#_architectural_patterns">8.3. Architectural patterns</a></li>
<li><a href="#_security">8.4. Security</a></li>
<li><a href="#_error_handling">8.5. Error handling</a></li>
<li><a href="#_observability">8.6. Observability</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a></li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a></li>
<li><a href="#section-test-report">12. Test Report</a>
<ul class="sectlevel2">
<li><a href="#_unit_tests">12.1. Unit tests</a></li>
<li><a href="#_acceptance_integration_tests_e2e_tests">12.2. Acceptance / integration tests (E2E tests)</a></li>
<li><a href="#_load_tests">12.3. Load tests</a></li>
</ul>
</li>
<li><a href="#section-glossary">13. Glossary</a></li>
<li><a href="#section-annex">14. Annex</a>
<ul class="sectlevel2">
<li><a href="#_functional_requirements">14.1. Functional Requirements</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}
</style>
<div class="paragraph">
<p><strong>About arc42</strong></p>
</div>
<div class="paragraph lead">
<p>arc42, the template for documentation of software and system architecture.</p>
</div>
<div class="paragraph">
<p>Template Version 8.2 EN. (based upon AsciiDoc version), January 2023</p>
</div>
<div class="paragraph">
<p>Created, maintained and &#169; by Dr. Peter Hruschka, Dr. Gernot Starke and contributors.
See <a href="https://arc42.org" class="bare">https://arc42.org</a>.</p>
</div>
<hr>
<div class="sidebarblock arc42help">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This version of the template contains some help and explanations.
It is used for familiarization with arc42 and the understanding of the concepts.
For documentation of your own system you use better the <em>plain</em> version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Describes the relevant requirements and the driving forces that software architects and development team must consider.
These include</p>
</div>
<div class="ulist">
<ul>
<li>
<p>underlying business goals,</p>
</li>
<li>
<p>essential features,</p>
</li>
<li>
<p>essential functional requirements,</p>
</li>
<li>
<p>quality goals for the architecture and</p>
</li>
<li>
<p>relevant stakeholders and their expectations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Purpose</strong></p>
</div>
<div class="paragraph">
<p>WiChat is an extension of a previous experimental web application that allowed users to answer quiz questions emulating the "Saber y Ganar" quiz show. This year, the system is being expanded by adding images accompanying all the questions and introducing a conversational hint system powered by an external Large Language Model, enhancing the user experience by providing dynamic and interactive assistance.</p>
</div>
<div class="paragraph">
<p>The project is requested by RTVE and developed by ChattySw, which will build the application using some pieces of code or modules from the work previously done by HappySw company, but creating the application from scracth.</p>
</div>
<div class="paragraph">
<p><strong>Scope of Work</strong></p>
</div>
<div class="paragraph">
<p>WiChat will expand the existing quiz system by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Retaining the core gameplay, where users answer image-based questions from various domains.</p>
</li>
<li>
<p>Introducing an AI-powered hint system for interactive assistance.</p>
</li>
<li>
<p>Keeping automation of questions using Wikidata, minimizing manual effort.</p>
</li>
<li>
<p>Ensuring accessibility through a web-based platform.</p>
</li>
<li>
<p>Add additional features such as custom games and an AI vs user game mode.
Additionally, the system should be designed with extensibility in mind, allowing for future improvements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Driving Forces</strong></p>
</div>
<div class="paragraph">
<p>The development of WiChat is guided by the following key goals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Enhancing User Engagement:</strong> Implementing an interactive AI-based hint system.</p>
</li>
<li>
<p><strong>Automating Content Generation:</strong> Using Wikidata to provide dynamically created questions.</p>
</li>
<li>
<p><strong>Ensuring Accessibility:</strong> Delivering a web-based solution that is easy to access and use.</p>
</li>
<li>
<p><strong>Providing a Structured Experience:</strong> Offering game statistics and historical data for users.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This document will outline the foundational aspects of the system, including its requirements, quality goals, stakeholder expectations and all the strategies and decisions taken.</p>
</div>
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements Overview</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Short description of the functional requirements, driving forces, extract (or abstract)
of requirements. Link to (hopefully existing) requirements documents
(with version number and information where to find it).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>From the point of view of the end users a system is created or modified to
improve support of a business activity and/or improve the quality.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Short textual description, probably in tabular use-case format.
If requirements documents exist this overview should refer to these documents.</p>
</div>
<div class="paragraph">
<p>Keep these excerpts as short as possible. Balance readability of this document with potential redundancy w.r.t to requirements documents.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-1/">Introduction and Goals</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The main requirements of the system that encapsulates the key features are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The system shall allow unregistered users to sign up.</p>
</li>
<li>
<p>The system shall provide authentication for users to log in.</p>
</li>
<li>
<p>The system shall allow registered users to log out.</p>
</li>
<li>
<p>The system shall allow registered users to play.</p>
</li>
<li>
<p>The system shall allow registered users to check their statistics.</p>
</li>
<li>
<p>The system shall allow users to request hints for a question.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The complete list of requirements can be found in the <a href="#section-annex">Annex</a> of the documentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The top three (max five) quality goals for the architecture whose fulfillment is of highest importance to the major stakeholders.
We really mean quality goals for the architecture. Don&#8217;t confuse them with project goals.
They are not necessarily identical.</p>
</div>
<div class="paragraph">
<p>Consider this overview of potential topics (based upon the ISO 25010 standard):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/01_2_iso-25010-topics-EN.drawio.png" alt="Categories of Quality Requirements">
</div>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know the quality goals of your most important stakeholders, since they will influence fundamental architectural decisions.
Make sure to be very concrete about these qualities, avoid buzzwords.
If you as an architect do not know how the quality of your work will be judged&#8230;&#8203;</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with quality goals and concrete scenarios, ordered by priorities</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Concrete Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system should be reliable and diverse in generating questions from Wikidata, having no more than 5% of questions with wrong distractors. AI hint system should be accurate and allucinations should be minimized to no more than 2%. The system shall handle user registrations, logins, game data storage and gameplay with an error rate of less than 1%.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance Efficiency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system should efficiently handle an increasing number of concurrent users up to 20 while keeping response times below 1 second. AI hint generation should not cause performance bottlenecks.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users' personal data and authentication details should be securely stored. API requests should be protected from unauthorized access.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The UI should be intuitive for first-time users, and game interactions should be easy to understand. The system learning time for a new user should be less than 1 hour.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The architecture should be microservices to allow developers to easily add new game modes, AI features, or question sources without major system refactoring.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Explicit overview of stakeholders of the system, i.e. all person, roles or organizations that</p>
</div>
<div class="ulist">
<ul>
<li>
<p>should know the architecture</p>
</li>
<li>
<p>have to be convinced of the architecture</p>
</li>
<li>
<p>have to work with the architecture or with code</p>
</li>
<li>
<p>need the documentation of the architecture for their work</p>
</li>
<li>
<p>have to come up with decisions about the system or its development</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know all parties involved in development of the system or affected by the system.
Otherwise, you may get nasty surprises later in the development process.
These stakeholders determine the extent and the level of detail of your work and its results.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Table with role names, person names, and their expectations with respect to the architecture and its documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Contact</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development Team</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Héctor Triguero del Río - <a href="mailto:UO288992@uniovi.es">UO288992@uniovi.es</a>, Fernando Cachon Alonso - <a href="mailto:UO295255@uniovi.es">UO295255@uniovi.es</a>, Daniel Fernández Cabrero - <a href="mailto:UO288499@uniovi.es">UO288499@uniovi.es</a>, Umut Dolangac - <a href="mailto:UO311846@uniovi.es">UO311846@uniovi.es</a>, Diego Martínez Chamorro - <a href="mailto:UO294054@uniovi.es">UO294054@uniovi.es</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They aim to develop a clear, scalable, and well-documented system while gaining hands-on experience in software development.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development Company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ChattySw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They expect the project to be well-structured, maintainable, and extensible, ensuring it meets the client’s needs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Previous Developer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HappySw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They expect their previous work to be properly used, ensuring compatibility and that they receive their credits when their work is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client - RTVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RTVE Representatives - <a href="mailto:rtve.dircom@rtve.es">rtve.dircom@rtve.es</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They hope to receive an engaging quiz application that aligns with their vision and improves their digital presence.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client - Professors (Evaluator)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pablo González González - <a href="mailto:gonzalezgpablo@uniovi.es">gonzalezgpablo@uniovi.es</a>, Jose Emilio Labra Gayo - <a href="mailto:labra@uniovi.es">labra@uniovi.es</a>, Irene Cid Rico - <a href="mailto:cidirene@uniovi.es">cidirene@uniovi.es</a>, Diego Martín Fernández - <a href="mailto:martinfdiego@uniovi.es">martinfdiego@uniovi.es</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They expect a well-structured architectural document, clear software design decisions, and a properly implemented system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End Users</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They hope for a fun and competitive experience, with the ability to view statistics and receive personalized interactions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wikidata (Wikimedia Foundation)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wikidata Community</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They hope for correct and responsible usage of their data, including proper attribution and compliance with API policies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM Provider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gemini/Empathy.ai</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They expect proper API usage, adherence to ethical AI practices, and avoidance of misuse that could generate misleading or inappropriate hints.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Competitors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kahoot, Quizziz, Trivia Crack</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They provide a reference for best practices in engagement and accessibility.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legal Advisors and Regulators</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GDPR Regulators, RTVE Legal Team</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They expect the system to comply with data protection regulations and respect intellectual property rights.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Any requirement that constraints software architects in their freedom of design and implementation decisions or decision about the development process. These constraints sometimes go beyond individual systems and are valid for whole organizations and companies.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Architects should know exactly where they are free in their design decisions and where they must adhere to constraints.
Constraints must always be dealt with; they may be negotiable, though.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Simple tables of constraints with explanations.
If needed you can subdivide them into
technical constraints, organizational and political constraints and
conventions (e.g. programming or versioning guidelines, documentation or naming conventions)</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-2/">Architecture Constraints</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technical_constraints">2.1. Technical Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application requires data retrieval and processing to generate questions using images from WikiData.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version control and monitoring (GitHub)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GitHub is a useful tool for version control and collaboration among the team members working on the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Experience (UI and UX)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application&#8217;s design must prioritize a user-friendly and intuitive experience.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test coverage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The code must achieve high test quality and coverage to ensure reliable and expected outcomes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Storage and Management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User data must be stored securely and efficiently. In order to achieve this goal, database selection is crucial.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM (Large Language Models)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application will leverage LLMs for specific functionalities (e.g., question generation, hint.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Accessible Front-End</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application will be accessed through a web browser</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_organizational_constraints">2.2. Organizational Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Team Size and Structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project will be developed by a team of 5 students.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git-Based Development</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project will follow a Git-based workflow. All tools and processes must integrate seamlessly with Git for version control, collaboration, and code management.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meetings and Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Team meetings will be held every Monday to discuss progress, challenges, and next steps. The development process must be documented in meeting minutes, including decisions made, action items assigned, and progress updates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delivery Deadlines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project has 3 deliverables, each with a 3-week interval.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Communication Channels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The team will use WhatsApp and GitHub for daily updates, discussions, and issue tracking.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_political_constraints">2.3. Political Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arc42 template is pre-selected for documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation will be written in english and application will support english and spanish.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-context-and-scope">3. Context and Scope</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Context and scope - as the name suggests - delimits your system (i.e. your scope) from all its communication partners
(neighboring systems and users, i.e. the context of your system). It thereby specifies the external interfaces.</p>
</div>
<div class="paragraph">
<p>If necessary, differentiate the business context (domain specific inputs and outputs) from the technical context (channels, protocols, hardware).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The domain interfaces and technical interfaces to communication partners are among your system&#8217;s most critical aspects. Make sure that you completely understand them.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Various options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Context diagrams</p>
</li>
<li>
<p>Lists of communication partners and their interfaces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-3/">Context and Scope</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description">3.1. Description</h3>
<div class="paragraph">
<p>This project consists of a web application in which users can play a quiz game, as well as registering and logging in.
Also, it allows to consult information as an API. The quiz game&#8217;s questions are generated using an LLM and WikiData.</p>
</div>
</div>
<div class="sect2">
<h3 id="_business_context">3.2. Business Context</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Specification of <strong>all</strong> communication partners (users, IT-systems, &#8230;&#8203;) with explanations of domain specific inputs and outputs or interfaces.
Optionally you can add domain specific formats or communication protocols.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>All stakeholders should understand which data are exchanged with the environment of the system.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>All kinds of diagrams that show the system as a black box and specify the domain interfaces to communication partners.</p>
</div>
<div class="paragraph">
<p>Alternatively (or additionally) you can use a table.
The title of the table is the name of your system, the three columns contain the name of the communication partner, the inputs, and the outputs.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/03_Business_Context.png" alt="Business Context">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Communication Partner</strong></th>
<th class="tableblock halign-left valign-top"><strong>Input</strong></th>
<th class="tableblock halign-left valign-top"><strong>Output</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interaction with the application like answering to questions, introducing credentials and asking for user data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Proper response to the interaction performed by the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WIChat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interaction by the user.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data to the user like questions, question&#8217;s results and user data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wikidata</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queries from the application for obtaining information from Wikidata.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data returned from the Wikidata database that is asked for in the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LLM</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queries from the application for generating hints.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hints that have been generated by the LLM.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_technical_context">3.3. Technical Context</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Technical interfaces (channels and transmission media) linking your system to its environment. In addition a mapping of domain specific input/output to the channels, i.e. an explanation which I/O uses which channel.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Many stakeholders make architectural decision based on the technical interfaces between the system and its context. Especially infrastructure or hardware designers decide these technical interfaces.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>E.g. UML deployment diagram describing channels to neighboring systems,
together with a mapping table showing the relationships between channels and input/output.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/03_Technical_Context.png" alt="Technical Context">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Component</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user that interacts with the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User device</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The device used by the user to interact with the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User agent</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The browser through which the user can request and access the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Cloud</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cloud that hosts the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WIChat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application which the users can interact with.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Database</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database that stores all the data of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wikidata</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns data to the application requested by SPARQL queries received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LLM</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates and returns hints based in the queries received.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>A short summary and explanation of the fundamental decisions and solution strategies, that shape system architecture. It includes</p>
</div>
<div class="ulist">
<ul>
<li>
<p>technology decisions</p>
</li>
<li>
<p>decisions about the top-level decomposition of the system, e.g. usage of an architectural pattern or design pattern</p>
</li>
<li>
<p>decisions on how to achieve key quality goals</p>
</li>
<li>
<p>relevant organizational decisions, e.g. selecting a development process or delegating certain tasks to third parties.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>These decisions form the cornerstones for your architecture. They are the foundation for many other detailed decisions or implementation rules.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Keep the explanations of such key decisions short.</p>
</div>
<div class="paragraph">
<p>Motivate what was decided and why it was decided that way,
based upon problem statement, quality goals and key constraints.
Refer to details in the following sections.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-4/">Solution Strategy</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technology_decisions">4.1. Technology decisions</h3>
<div class="ulist">
<ul>
<li>
<p><strong>JavaScript:</strong> It is the chosen programming language for this application. After comparing it with TypeScript, we concluded it is the best choice taking into account easiness in the use and team experience.</p>
</li>
<li>
<p><strong>React:</strong> We have chosen this JavaScript library for the UI because it is the industry standard and other alternatives don&#8217;t provide any benefits compared to it and it&#8217;s easy use.</p>
</li>
<li>
<p><strong>Node.js:</strong> We decided to use it so we use JavaScript both in the frontend and backend. Also, since Mongoose, which will be used to comunicate with the database, is a Node.js library, Node.js is a good option for this application.</p>
</li>
<li>
<p><strong>Docker:</strong> We chose it since several members of the team have experience with it and it&#8217;s easy to learn for new users compared to other alternatives. Also, it&#8217;s open-source and user friendly.</p>
</li>
<li>
<p><strong>MongoDB:</strong> We decided to use this document database due to its flexibility and simple query language.</p>
</li>
<li>
<p><strong>Microsoft Azure:</strong> We chose this platform since it provides the needed infrastructure and the team members have experience with it.</p>
</li>
<li>
<p><strong>Express.js:</strong> We have chosen this web application framework for Node.js due to its high flexibility, its easy use and learning and its powerful middleware.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are more technology decisions that are not listed here, but they are not as relevant as the ones listed above. The complete list can be found in the <a href="#section-design-decisions">Architecture Decisions</a> section of the documentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_top_level_decomposition_decisions">4.2. Top-level decomposition decisions</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Non-pure microservices pattern:</strong> This pattern is used, so the application is divided into different components with a responsibility each one. This makes the different components independent and lowly coupled, allowing mantainability.
Also, it reduces possible conflicts between the development carried out by the team members and the code dependencies.
The pattern is non-pure to reduce the complexity of the application and redundancies between the microservices.</p>
</li>
<li>
<p><strong>Gateway pattern:</strong> This pattern is chosen because it allows to give the application a single request interface that redirects requests by the
user to the appropiate application component. It is the appropiate pattern to complement the Microservices pattern due to these reasons.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_decisions_to_achieve_key_quality_goals">4.3. Decisions to achieve key quality goals</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Mantainability:</strong> The application will be well structured and documented to allow a proper mantainability.</p>
</li>
<li>
<p><strong>Usability:</strong> A user-friendly application will be developed, as well as intuitive.</p>
</li>
<li>
<p><strong>Testability:</strong> Multiple tests will be performed on the application to ensure the proper functioning of the application and to ensure there are no errors.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_organizational_decisions">4.4. Organizational decisions</h3>
<div class="ulist">
<ul>
<li>
<p>Use of a Github repository for the project.</p>
</li>
<li>
<p>Weekly meeting of the team to review and discuss work done during the week, to take decisions for the project and assigning tasks that must be made.</p>
</li>
<li>
<p>Communication between members and task assigning using Github Issues.</p>
</li>
<li>
<p>For a quick and agile communication, use of a WhatsApp group of the team.</p>
</li>
<li>
<p>Keep track of all the work done by the team using Github Projects, linking on it the different Issues.</p>
</li>
<li>
<p>Record the weekly meeting minutes and details and project decisions by means of Github Wiki.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The building block view shows the static decomposition of the system into building blocks (modules, components, subsystems, classes, interfaces, packages, libraries, frameworks, layers, partitions, tiers, functions, macros, operations, data structures, &#8230;&#8203;) as well as their dependencies (relationships, associations, &#8230;&#8203;)</p>
</div>
<div class="paragraph">
<p>This view is mandatory for every architecture documentation.
In analogy to a house this is the <em>floor plan</em>.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Maintain an overview of your source code by making its structure understandable through
abstraction.</p>
</div>
<div class="paragraph">
<p>This allows you to communicate with your stakeholder on an abstract level without disclosing implementation details.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The building block view is a hierarchical collection of black boxes and white boxes
(see figure below) and their descriptions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/05_building_blocks-EN.png" alt="Hierarchy of building blocks">
</div>
</div>
<div class="paragraph">
<p><strong>Level 1</strong> is the white box description of the overall system together with black
box descriptions of all contained building blocks.</p>
</div>
<div class="paragraph">
<p><strong>Level 2</strong> zooms into some building blocks of level 1.
Thus it contains the white box description of selected building blocks of level 1, together with black box descriptions of their internal building blocks.</p>
</div>
<div class="paragraph">
<p><strong>Level 3</strong> zooms into selected building blocks of level 2, and so on.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-5/">Building Block View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_context">5.1. Context</h3>
<div class="imageblock">
<div class="content">
<img src="./images/build_block_view/blackbox.drawio.svg" alt="blackbox.drawio">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Building Block</strong></th>
<th class="tableblock halign-left valign-top"><strong>Brief description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WiChat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overall system that is being documented.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Player</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regular players of the game which interact with the system through the web interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users of the different public APIs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API used to generate questions and answers for the game.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM API used to generate hints for the game.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_whitebox_overall_system">5.2. Whitebox Overall System</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you describe the decomposition of the overall system using the following white box template. It contains</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an overview diagram</p>
</li>
<li>
<p>a motivation for the decomposition</p>
</li>
<li>
<p>black box descriptions of the contained building blocks. For these we offer you alternatives:</p>
<div class="ulist">
<ul>
<li>
<p>use <em>one</em> table for a short and pragmatic overview of all contained building blocks and their interfaces</p>
</li>
<li>
<p>use a list of black box descriptions of the building blocks according to the black box template (see below).
Depending on your choice of tool this list could be sub-chapters (in text files), sub-pages (in a Wiki) or nested elements (in a modeling tool).</p>
</li>
</ul>
</div>
</li>
<li>
<p>(optional:) important interfaces, that are not explained in the black box templates of a building block, but are very important for understanding the white box.
Since there are so many ways to specify interfaces why do not provide a specific template for them.
 In the worst case you have to specify and describe syntax, semantics, protocols, error handling,
 restrictions, versions, qualities, necessary compatibilities and many things more.
In the best case you will get away with examples or simple signatures.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/build_block_view/overview.drawio.svg" alt="overview.drawio">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Motivation</dt>
<dd>
<p>We divided the system into microservices according to their responsibilities to ensure:</p>
<div class="ulist">
<ul>
<li>
<p><strong>simplicity</strong>:
Each component is minimal and is responsible for a single function, which makes it easier to understand and maintain.</p>
</li>
<li>
<p><strong>reusability</strong>:
Microservices have interfaces which can be easily used by other new or old components if required.</p>
</li>
<li>
<p><strong>independence</strong>:
Components are made as independent as possible, also dependencies are always on stable abstractions protecting client services from the implementation.</p>
</li>
<li>
<p><strong>maintainability</strong>:
Each component is simple and as independent as possible from the others allowing fast understanding and reducing the probability of making mistakes.</p>
</li>
<li>
<p><strong>extendability</strong>:
New features can be added easily by adding new code to components or by adding new components, avoiding having to modify / rewrite code.</p>
</li>
<li>
<p><strong>switchability</strong>:
External services can be easily replaced by other services by just writing an adapter.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Check <a href="#_llm_service">LLM Service</a> for an example of reusable design.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Building Block</strong></th>
<th class="tableblock halign-left valign-top"><strong>Brief description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serves as an adapter for the external LLM service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Questions Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates questions using WikiData.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Game Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages game states and tracks the user&#8217;s progress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Statistics Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tracks and provides statistics for the users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles login, signup and session for the users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gateway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Proxies some services to the Internet and supports the WebApp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebApp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides the web UI.</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Interfacing</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The different <strong>microservices communicate</strong> with each other via <strong>RESTful APIs</strong> using an <strong>intranet</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>The <strong>Gateway</strong> and <strong>WebApp</strong> are the only services which allow external requests and communicate with eachother through <strong>Internet</strong>.</p>
</li>
<li>
<p><strong>LLM Service</strong> and <strong>Question Service</strong> also communicate with the <strong>external LLM</strong> and <strong>WikiData</strong> respectively using the <strong>Internet</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Insert your explanations of black boxes from level 1:</p>
</div>
<div class="paragraph">
<p>If you use tabular form you will only describe your black boxes with name and
responsibility according to the following schema:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Responsibility</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;black box 1&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> <em>&lt;Text&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;black box 2&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> <em>&lt;Text&gt;</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you use a list of black box descriptions then you fill in a separate black box template for every important building block .
Its headline is the name of the black box.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_llm_service">5.2.1. LLM Service</h4>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you describe &lt;black box 1&gt;
according the the following black box template:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Purpose/Responsibility</p>
</li>
<li>
<p>Interface(s), when they are not extracted as separate paragraphs. This interfaces may include qualities and performance characteristics.</p>
</li>
<li>
<p>(Optional) Quality-/Performance characteristics of the black box, e.g.availability, run time behavior, &#8230;&#8203;.</p>
</li>
<li>
<p>(Optional) directory/file location</p>
</li>
<li>
<p>(Optional) Fulfilled requirements (if you need traceability to requirements).</p>
</li>
<li>
<p>(Optional) Open issues/problems/risks</p>
</li>
</ul>
</div>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Motivation</dt>
<dd>
<p>This thin module could be integrated in Questions Service, but we decided to keep it separate to promote <strong>reusability</strong>, since one of the optional requirements is using AI for anything other than hints.</p>
</dd>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Act as a bridge (adapter) between the external LLM service and the other internal services of the application.</p>
</dd>
<dt class="hdlist1">Interface</dt>
<dd>
<p>Internal RESTful API for communication with the other internal microservices.</p>
</dd>
<dt class="hdlist1">Structure</dt>
<dd>
<p>Just an <strong>Express.js app</strong> with an <strong>adapter</strong> for the external LLM.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_statistics_service">5.2.2. Statistics Service</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Tracks and provides statistics for the users.</p>
</dd>
<dt class="hdlist1">Interface</dt>
<dd>
<p>Internal RESTful API for communication with the other internal microservices.</p>
</dd>
<dt class="hdlist1">Structure</dt>
<dd>
<p>It&#8217;s a typical <strong>Express.js application</strong> with a <strong>model</strong> for the statistics and a database adapter to store the data.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_webapp">5.2.3. WebApp</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Provides the web UI for the application.</p>
</dd>
<dt class="hdlist1">Interface</dt>
<dd>
<p>Web UI for the users.</p>
</dd>
<dt class="hdlist1">Structure</dt>
<dd>
<p>Follows the structure of a <strong>typical React application</strong> with several routes.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_gateway">5.2.4. Gateway</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Proxies some services to the Internet (<strong>public API</strong>) and <strong>supports the WebApp</strong>. Adds "firewall" mechanisms typical of APIs: ratelimiting, HTTPs, security headers, etc.</p>
</dd>
<dt class="hdlist1">Interface</dt>
<dd>
<p>RESTful API exposed to the Internet with a subset of the internal services.</p>
</dd>
<dt class="hdlist1">Structure</dt>
<dd>
<p>It&#8217;s a typical <strong>Express.js</strong> application with <strong>middleware</strong>, <strong>proxy</strong> and endpoint <strong>documentation</strong> modules.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_2">5.3. Level 2</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you can specify the inner structure of (some) building blocks from level 1 as white boxes.</p>
</div>
<div class="paragraph">
<p>You have to decide which building blocks of your system are important enough to justify such a detailed description.
Please prefer relevance over completeness. Specify important, surprising, risky, complex or volatile building blocks.
Leave out normal, simple, boring or standardized parts of your system</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_questions_service">5.3.1. White Box "Questions Service"</h4>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>&#8230;&#8203;describes the internal structure of <em>building block 1</em>.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/build_block_view/questions_service.drawio.svg" alt="questions service.drawio">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Generates questions and hints ensuring performance and correctness.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Questions</strong> and <strong>answers</strong> are generated through <strong>WikiData</strong>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Motivation</dt>
<dd>
<p>Handles the responsibility of generating questions.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Why is WikiData part of the module and not standalone?</dt>
<dd>
<p>Since the service is used only for generating questions and answers (and this will most likely remain true), it is more efficient to have it as part of the module and reduce the overall system complexity at the cost of increasing the module&#8217;s one.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Building Block</strong></th>
<th class="tableblock halign-left valign-top"><strong>Brief description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData Adapter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serves as an adapter for the external WikiData API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Questions Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates questions from the WikiData information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Questions Cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows caching of questions to reduce the load on the WikiData API. It is necessary for performace reasons.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Express.js Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an internal RESTful API for the rest of microservices.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_white_box_auth_service">5.3.2. White Box "Auth Service"</h4>
<div class="imageblock">
<div class="content">
<img src="./images/build_block_view/auth_service.drawio.svg" alt="auth service.drawio">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Allows users to login, signup and verify their local session.</p>
</dd>
<dt class="hdlist1">Motivation</dt>
<dd>
<p>Keeps the user&#8217;s sensitive data and session separate from the rest of the application to ensure higher standards of security and privacy.</p>
</dd>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Building Block</strong></th>
<th class="tableblock halign-left valign-top"><strong>Brief description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the user&#8217;s data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DB Adapter (Mongoose)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides persistence for the model entities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Login Handler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows login and obtaining a session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register Handler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows registering a user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify Handler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows verifying an user session. Internal service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encryption Utilities (Argon2/JWT)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides encryption utilities to secure sessions and stored passwords.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides configuration for the service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validators</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides validation inputs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server (Express.js)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an internal secured RESTful API for the rest of microservices.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_white_box_game_service">5.3.3. White Box "Game Service"</h4>
<div class="imageblock">
<div class="content">
<img src="./images/build_block_view/game_service.drawio.svg" alt="game service.drawio">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Responsible for connecting <strong>Questions Service</strong> with <strong>Statistics Service</strong>, that way we can keep track of the user&#8217;s progress and provide statistics. It also generates hints using <strong>LLM Service</strong>.</p>
</dd>
<dt class="hdlist1">Motivation</dt>
<dd>
<p>Takes care of the game logic and user&#8217;s progress. Also it tracks the user&#8217;s progress to provide statistics.</p>
</dd>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Building Block</strong></th>
<th class="tableblock halign-left valign-top"><strong>Brief description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Game Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keeps track of user games and fires stats events.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hints Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates hints using the LLM Service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Express.js Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an internal secured RESTful API for the rest of microservices.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The runtime view describes concrete behavior and interactions of the system’s building blocks in form of scenarios from the following areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>important use cases or features: how do building blocks execute them?</p>
</li>
<li>
<p>interactions at critical external interfaces: how do building blocks cooperate with users and neighboring systems?</p>
</li>
<li>
<p>operation and administration: launch, start-up, stop</p>
</li>
<li>
<p>error and exception scenarios</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Remark: The main criterion for the choice of possible scenarios (sequences, workflows) is their <strong>architectural relevance</strong>. It is <strong>not</strong> important to describe a large number of scenarios. You should rather document a representative selection.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should understand how (instances of) building blocks of your system perform their job and communicate at runtime.
You will mainly capture scenarios in your documentation to communicate your architecture to stakeholders that are less willing or able to read and understand the static models (building block view, deployment view).</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>There are many notations for describing scenarios, e.g.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>numbered list of steps (in natural language)</p>
</li>
<li>
<p>activity diagrams or flow charts</p>
</li>
<li>
<p>sequence diagrams</p>
</li>
<li>
<p>BPMN or EPCs (event process chains)</p>
</li>
<li>
<p>state machines</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-6/">Runtime View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_abstract_states_of_the_application">6.1. Abstract states of the application</h3>
<div class="ulist">
<ul>
<li>
<p>General usage, the user arrives to the application, creates an account or logs in, goes through the menu settings and plays.
The state diagram shows the relation of the different situations of the app.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/06_State_Diagram.png" alt="State Diagram of the general game behaviour">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_login_of_a_user">6.2. Login of a user</h3>
<div class="ulist">
<ul>
<li>
<p>Login, the app shows the login interface, where the user is asked for the username and password, and the possibility to create an account.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When logging, the app does a login request to the authentication service through the GatewayService, which redirects the user to the identity provider, which handles the authentication by checking the registered users.
If the login is succesfully, the app shows the different options of the game. In case the login isn&#8217;t succesfully, a warning message is shown.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/06_Login.png" alt="Sequence Diagram of the login of a user">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_game">6.3. Game</h3>
<div class="ulist">
<ul>
<li>
<p>Game transitions and process behind the user interface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When playing, the user interface interacts with the distribution facade Gateway, in charge of hiding the back-end services, business and persistance layers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/06_Game.png" alt="Sequence Diagram of the game runtime behaviour">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_statistics_of_a_user">6.4. Statistics of a user</h3>
<div class="ulist">
<ul>
<li>
<p>Statistics of a user.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the user enters the view, statistics about themselves are shown.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/06_History.png" alt="Sequence Diagram of displaying the statistics of a user">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The deployment view describes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>technical infrastructure used to execute your system, with infrastructure elements like geographical locations, environments, computers, processors, channels and net topologies as well as other infrastructure elements and</p>
</li>
<li>
<p>mapping of (software) building blocks to that infrastructure elements.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Often systems are executed in different environments, e.g. development environment, test environment, production environment. In such cases you should document all relevant environments.</p>
</div>
<div class="paragraph">
<p>Especially document a deployment view if your software is executed as distributed system with more than one computer, processor, server or container or when you design and construct your own hardware processors and chips.</p>
</div>
<div class="paragraph">
<p>From a software perspective it is sufficient to capture only those elements of an infrastructure that are needed to show a deployment of your building blocks. Hardware architects can go beyond that and describe an infrastructure to any level of detail they need to capture.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Software does not run without hardware.
This underlying infrastructure can and will influence a system and/or some
cross-cutting concepts. Therefore, there is a need to know the infrastructure.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Maybe a highest level deployment diagram is already contained in section 3.2. as
technical context with your own infrastructure as ONE black box. In this section one can
zoom into this black box using additional deployment diagrams:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UML offers deployment diagrams to express that view. Use it, probably with nested diagrams,
when your infrastructure is more complex.</p>
</li>
<li>
<p>When your (hardware) stakeholders prefer other kinds of diagrams rather than a deployment diagram, let them use any kind that is able to show nodes and channels of the infrastructure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-7/">Deployment View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_1">7.1. Infrastructure Level 1</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Describe (usually in a combination of diagrams, tables, and text):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>distribution of a system to multiple locations, environments, computers, processors, .., as well as physical connections between them</p>
</li>
<li>
<p>important justifications or motivations for this deployment structure</p>
</li>
<li>
<p>quality and/or performance features of this infrastructure</p>
</li>
<li>
<p>mapping of software artifacts to elements of this infrastructure</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For multiple environments or alternative deployments please copy and adapt this section of arc42 for all relevant environments.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/deployment_view/Level1DeploymentDiagram.png" alt="Deployment Diagram Level 1 Infrastructure">
</div>
</div>
<div class="paragraph">
<p><strong>Motivation:</strong></p>
</div>
<div class="paragraph">
<p>The system uses Docker to keep services isolated and portable, ensuring smooth transitions between development, testing, and production. A microservices approach separates key functions like authentication, game logic, stats, and question handling, allowing independent scaling and preventing failures in one service from affecting the rest.</p>
</div>
<div class="paragraph">
<p>A central API Gateway simplifies client interactions and enhances security by preventing direct access to internal services. External services like WikiData and an LLM API handle question generation and AI-driven hints, reducing infrastructure complexity and using external computing power.</p>
</div>
<div class="paragraph">
<p><strong>Quality and/or Performance Features:</strong></p>
</div>
<div class="paragraph">
<p>This system is built to handle growth. Each part can be scaled up as needed. In this diagram we use containers, so if we need more of something like the Question Service, we can easily add it. With Docker-compose we can automate this.</p>
</div>
<div class="paragraph">
<p>Security is important.The API Gateway adds a layer of security by managing and authenticating all incoming requests.</p>
</div>
<div class="paragraph">
<p>If something goes wrong, the container system helps because if one part fails, it can be restarted without affecting the others.  We also have logging and monitoring to help us find and fix problems quickly.</p>
</div>
<div class="paragraph">
<p>We&#8217;ve focused on performance too, MongoDB is used for flexible and efficient data storage for game info.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Mapping of Building Blocks to Infrastructure</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Artifact</th>
<th class="tableblock halign-left valign-top">Infrastructure</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webapp (React)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebApp Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gatewayservice (Node.js/Express)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gateway Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authservice (Node.js/Express)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AuthService Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">statservice (Node.js/Express)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">StatsService Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gameservice (Node.js/Express)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GameService Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">questionservice (Node.js/Express)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QuestionsService Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">llmservice (Node.js/Express)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLMService Container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database (MongoDB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database Container</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>This section describes overall, principal regulations and solution ideas that are relevant in multiple parts (= cross-cutting) of your system.
Such concepts are often related to multiple building blocks.
They can include many different topics, such as</p>
</div>
<div class="ulist">
<ul>
<li>
<p>models, especially domain models</p>
</li>
<li>
<p>architecture or design patterns</p>
</li>
<li>
<p>rules for using specific technology</p>
</li>
<li>
<p>principal, often technical decisions of an overarching (= cross-cutting) nature</p>
</li>
<li>
<p>implementation rules</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Concepts form the basis for <em>conceptual integrity</em> (consistency, homogeneity) of the architecture.
Thus, they are an important contribution to achieve inner qualities of your system.</p>
</div>
<div class="paragraph">
<p>Some of these concepts cannot be assigned to individual building blocks, e.g. security or safety.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The form can be varied:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>concept papers with any kind of structure</p>
</li>
<li>
<p>cross-cutting model excerpts or scenarios using notations of the architecture views</p>
</li>
<li>
<p>sample implementations, especially for technical concepts</p>
</li>
<li>
<p>reference to typical usage of standard frameworks (e.g. using Hibernate for object/relational mapping)</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Structure</div>
<p>A potential (but not mandatory) structure for this section could be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Domain concepts</p>
</li>
<li>
<p>User Experience concepts (UX)</p>
</li>
<li>
<p>Safety and security concepts</p>
</li>
<li>
<p>Architecture and design patterns</p>
</li>
<li>
<p>"Under-the-hood"</p>
</li>
<li>
<p>development concepts</p>
</li>
<li>
<p>operational concepts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: it might be difficult to assign individual concepts to one specific topic
on this list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/08-concepts-EN.drawio.png" alt="Possible topics for crosscutting concepts">
</div>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-8/">Concepts</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_user_experience_ux">8.1. User Experience (UX)</h3>
<div class="paragraph">
<p>The user experience in the system involves the design of the user interface and the level of accessibility, usability and
satisfaction that it provides. As the part of the system that the user interacts with, the focus is put in providing
a user-friendly interface, which gives a proper user experience. This user experience is a key concept in web applications
such as the one developed, in which a high degree of usability is required for the user&#8217;s satisfaction and overall
experience.</p>
</div>
</div>
<div class="sect2">
<h3 id="_internationalization">8.2. Internationalization</h3>
<div class="paragraph">
<p>As a key part of User Experience, Internationalization (i18n) is a very important part in the system. The adjustment
to several languages and the flexibility it provides, allows the system to be user-friendly, providing a high usability
to several types of users based on their languages, overrunning language barriers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_architectural_patterns">8.3. Architectural patterns</h3>
<div class="paragraph">
<p>The system follows several architectural patterns: Microservices pattern, so the system is composed of different
independent components, and Gateway pattern, which provides a single interface for all the users that manages
and redirects all their requests. The use of these architectural patterns provides a high degree of mantainability
and also high flexibility in the development.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security">8.4. Security</h3>
<div class="paragraph">
<p>As a key in all types of systems, security is a very important concept in this one and its development. Resources and data
are protected and only provided to allowed users, implementing an authentication systemps that enforces the system&#8217;s security.</p>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling">8.5. Error handling</h3>
<div class="paragraph">
<p>Proper error handling techniques are implemented in each system&#8217;s component to ensure the reliability and availability
of the system. Every call or dependency between components or important parts is managed to throw and detect types
of errors and not propagate them thorughout the application, sending proper messages and codes to the different
components to ensure the availability of the system and its proper working without failing. This enhances, in case
an error occurs, the user experience so the user is informed if some process can not be carried out.</p>
</div>
</div>
<div class="sect2">
<h3 id="_observability">8.6. Observability</h3>
<div class="paragraph">
<p>The system is designed to be observable, allowing gateway request monitoring from Grafana + Prometheus, as well as a more rudimentary monitoring of the different components through the use of a common and consistent logging system. This system allows logging errors, warnings and requests among others. It also enables faster debugging. Lastly the system is configured to censor sensitive information in the logs, such as authentication tokens and referrers.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The ADRs (Architecture Decision Records) are stored in the GitHub Wiki of the project and are available at:
<a href="https://github.com/Arquisoft/wichat_en1c/wiki/Decision-Records" class="bare">https://github.com/Arquisoft/wichat_en1c/wiki/Decision-Records</a></p>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Important, expensive, large scale or risky architecture decisions including rationales.
With "decisions" we mean selecting one alternative based on given criteria.</p>
</div>
<div class="paragraph">
<p>Please use your judgement to decide whether an architectural decision should be documented
here in this central section or whether you better document it locally
(e.g. within the white box template of one building block).</p>
</div>
<div class="paragraph">
<p>Avoid redundancy.
Refer to section 4, where you already captured the most important decisions of your architecture.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Stakeholders of your system should be able to comprehend and retrace your decisions.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Various options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ADR (<a href="https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions">Documenting Architecture Decisions</a>) for every important decision</p>
</li>
<li>
<p>List or table, ordered by importance and consequences or:</p>
</li>
<li>
<p>more detailed in form of separate sections per decision</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-9/">Architecture Decisions</a> in the arc42 documentation.
There you will find links and examples about ADR.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>This section contains all quality requirements as quality tree with scenarios. The most important ones have already been described in section 1.2. (quality goals)</p>
</div>
<div class="paragraph">
<p>Here you can also capture quality requirements with lesser priority,
which will not create high risks when they are not fully achieved.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Since quality requirements will have a lot of influence on architectural
decisions you should know for every stakeholder what is really important to them,
concrete and measurable.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-10/">Quality Requirements</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Reliability</div>
<p>The system must maintain a high level of operational stability and accuracy. This is measurable through several key indicators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Question Generation Accuracy:</strong> The rate of incorrectly generated distractors in quiz questions sourced from Wikidata should be less than 5%.</p>
</li>
<li>
<p><strong>AI Hint Accuracy:</strong> The AI-powered hint system should provide accurate and relevant hints, with the occurrence of hallucinations or misleading information being less than 5% of hint requests.</p>
</li>
<li>
<p><strong>Core Functionality Error Rate:</strong> The system&#8217;s handling of user registrations, logins, game data storage, and gameplay should have an error rate of less than 1%.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Performance Efficiency</div>
<p>The system must provide a responsive and efficient user experience, even under moderate load. This can be measured by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Concurrent User Capacity:</strong> The system should be able to handle up to 20 concurrent users while maintaining an average response time for critical user interactions (loading questions, submitting answers, requesting hints) below 1 second.</p>
</li>
<li>
<p><strong>AI Hint Generation Latency:</strong> The time taken to generate an AI hint should not introduce a performance bottleneck, adding no more than 1 second to the overall response time for a hint request.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Security</div>
<p>The confidentiality and integrity of user data and system access must be ensured. Measurable aspects include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Data Storage Security:</strong> User personal data and authentication credentials must be stored using robust encryption algorithms and protected against unauthorized access.</p>
</li>
<li>
<p><strong>API Access Control:</strong> API endpoints should be secured through authentication and authorization mechanisms (JWT), preventing any successful unauthorized access attempts as verified by security testing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Usability</div>
<p>The system should be intuitive and easy to use for all users, including those new to the application. This can be evaluated by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>First-Time User Success Rate:</strong> At least 80% of new users should be able to successfully register and complete a basic game within 10 minutes without needing external assistance.</p>
</li>
<li>
<p><strong>User Interface Clarity:</strong> User feedback should indicate that at least 90% of users find the game interactions to be "easy to understand."</p>
</li>
<li>
<p><strong>Learning Curve:</strong> The average time required for a new user to become proficient with the core functionalities of the system should be less than 1 hour, as measured by their ability to complete defined tasks during an onboarding process.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Maintainability</div>
<p>The system&#8217;s architecture should facilitate future modifications, extensions, and bug fixes with minimal effort and risk. This can be assessed by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Modularity for New Features:</strong> Adding a new game mode or integrating a new question source should require modifications to no more than 5% of the existing codebase and be achievable within a timeframe of 2 weeks.</p>
</li>
<li>
<p><strong>Ease of Updating External Dependencies:</strong> Updating the AI hint model or integrating a completely new LLM service should be possible with a development effort of no more than 3 days.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The quality tree (as defined in ATAM – Architecture Tradeoff Analysis Method) with quality/evaluation scenarios as leafs.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The tree structure with priorities provides an overview for a sometimes large number of quality requirements.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The quality tree is a high-level overview of the quality goals and requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tree-like refinement of the term "quality". Use "quality" or "usefulness" as a root</p>
</li>
<li>
<p>a mind map with quality categories as main branches</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In any case the tree should include links to the scenarios of the following section.</p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Quality</p>
<div class="ulist">
<ul>
<li>
<p>Reliability</p>
<div class="ulist">
<ul>
<li>
<p><a href="#login">[login]</a> (Core Functionality)</p>
</li>
<li>
<p><a href="#start-game">[start-game]</a> (Core Functionality)</p>
</li>
<li>
<p><a href="#answer">[answer]</a> (Core Functionality)</p>
</li>
<li>
<p><a href="#hint">[hint]</a> (AI Hint Accuracy)</p>
</li>
<li>
<p><a href="#stats">[stats]</a> (Core Functionality)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Performance Efficiency</p>
<div class="ulist">
<ul>
<li>
<p><a href="#login">[login]</a> (Response Time)</p>
</li>
<li>
<p><a href="#start-game">[start-game]</a> (Response Time)</p>
</li>
<li>
<p><a href="#answer">[answer]</a> (Response Time)</p>
</li>
<li>
<p><a href="#hint">[hint]</a> (AI Hint Generation Latency)</p>
</li>
<li>
<p><a href="#stats">[stats]</a> (Response Time)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Security</p>
<div class="ulist">
<ul>
<li>
<p><a href="#login">[login]</a> (Authentication)</p>
</li>
<li>
<p>(Implicitly covers all interactions involving user data)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Usability</p>
<div class="ulist">
<ul>
<li>
<p><a href="#login">[login]</a> (First-Time User Success)</p>
</li>
<li>
<p><a href="#start-game">[start-game]</a> (First-Time User Success)</p>
</li>
<li>
<p><a href="#answer">[answer]</a> (User Interface Clarity)</p>
</li>
<li>
<p><a href="#hint">[hint]</a> (User Interface Clarity)</p>
</li>
<li>
<p><a href="#stats">[stats]</a> (User Interface Clarity)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Maintainability</p>
<div class="ulist">
<ul>
<li>
<p><a href="#email-add">[email-add]</a> (Modularity)</p>
</li>
<li>
<p><a href="#new-game">[new-game]</a> (Modularity)</p>
</li>
<li>
<p><a href="#switch-LLM">[switch-LLM]</a> (Modularity)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Concretization of (sometimes vague or implicit) quality requirements using (quality) scenarios.</p>
</div>
<div class="paragraph">
<p>These scenarios describe what should happen when a stimulus arrives at the system.</p>
</div>
<div class="paragraph">
<p>For architects, two kinds of scenarios are important:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Usage scenarios (also called application scenarios or use case scenarios) describe the system’s runtime reaction to a certain stimulus. This also includes scenarios that describe the system’s efficiency or performance. Example: The system reacts to a user’s request within one second.</p>
</li>
<li>
<p>Change scenarios describe a modification of the system or of its immediate environment. Example: Additional functionality is implemented or requirements for a quality attribute change.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Scenarios make quality requirements concrete and allow to
more easily measure or decide whether they are fulfilled.</p>
</div>
<div class="paragraph">
<p>Especially when you want to assess your architecture using methods like
ATAM you need to describe your quality goals (from section 1.2)
more precisely down to a level of scenarios that can be discussed and evaluated.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Tabular or free form text.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Usage Scenarios</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usage Scenario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Reaction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="login"></a> <strong>User Login:</strong> A user opens the web application, enters valid credentials (username and password), and clicks the "Login" button.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system authenticates the user within 0.5 seconds and redirects them to the home interface. If the credentials are invalid, an error message is displayed to the user within 0.3 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="start-game"></a> <strong>Start Game:</strong> A logged-in user clicks the "Play" button.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system retrieves the first question (including image and answer options) within 1 second and displays it to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="answer"></a> <strong>Answer Question:</strong> The user selects an answer option and clicks it.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system evaluates the answer within 0.3 seconds, provides immediate feedback (correct/incorrect), updates the user&#8217;s score, and presents the next question within 2 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="hint"></a> <strong>Request Hint:</strong> The user writes a question and clicks the "Hint" button for a question.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system sends a request to the LLM Service and displays a relevant hint to the user within 1 second.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="stats"></a> <strong>View Statistics:</strong> A logged-in user navigates to the "Statistics" section.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system retrieves and displays the user&#8217;s game statistics (games played, correct answers, etc.) within 1 second.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Change Scenarios</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change Scenario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Reaction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="email-add"></a> <strong>Adding Email Login:</strong> The requirement is to allow users to log in using their email address in addition to their username.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Authentication Service is modified and deployed without disrupting the existing username-based login functionality. New users can register with email, and existing users can optionally link their email to their account. Both login methods function correctly after the change, verified by automated tests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="new-game"></a> <strong>Integrating a New Game Mode:</strong> A new game mode (e.g., 1 text question, 4 image answers ) needs to be added to the application.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New components and logic for the new game mode are added primarily within the Game Service and WebApp. The existing game modes remain functional without modification. The new mode can be accessed through the user interface without altering the main navigation flow.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="switch-LLM"></a> <strong>Switching LLM Provider:</strong> The current LLM provider is replaced with a new one (requiring a different API).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The LLM Service is adapted to communicate with the new LLM provider through a new adapter. The interface exposed by the LLM Service to other microservices remains consistent, minimizing impact on the Game Service. Hint functionality remains operational after the change.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>A list of identified technical risks or technical debts, ordered by priority</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>“Risk management is project management for grown-ups” (Tim Lister, Atlantic Systems Guild.)</p>
</div>
<div class="paragraph">
<p>This should be your motto for systematic detection and evaluation of risks and technical debts in the architecture, which will be needed by management stakeholders (e.g. project managers, product owners) as part of the overall risk analysis and measurement planning.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>List of risks and/or technical debts, probably including suggested measures to minimize, mitigate or avoid risks or reduce technical debts.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-11/">Risks and Technical Debt</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Considering the recent loss of a team member, the team&#8217;s tendency towards end-of-sprint workload accumulation, challenges with branch merging due to testing, and the adoption of new technologies, the following are key risks and potential areas of technical debt that require attention (Relevance from 1(low) to 3(high)):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category &amp; Item</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relevance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Considerations &amp; Potential Mitigation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Team Capacity Risk: Loss of a team member.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reduced team capacity directly impacts velocity and potentially deadlines. Mitigation: Re-evaluate current workload distribution, prioritize critical tasks, explore options for temporary or permanent replacement, and ensure thorough knowledge transfer from the departed member.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow Risk &amp; Potential Debt: End-of-sprint workload spikes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accumulating work at the end of a sprint leads to rushed implementations, increasing the risk of bugs and impeding sustainable pace. It can also result in "quick fixes" that introduce technical debt. Mitigation: Implement stricter "work in progress" limits, encourage continuous integration and testing throughout the sprint, and focus on completing tasks earlier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Integration Risk &amp; Potential Debt: Branch merge conflicts due to testing issues.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frequent merge conflicts disrupt development flow and signal potential issues with test coverage, quality, or understanding. This can lead to hastily resolved conflicts and hidden technical debt. Mitigation: Enhance team understanding and application of testing strategies, enforce stricter test requirements before merging, and consider more robust branching strategies. Investigate the root causes of test failures and conflicts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technology Adoption Risk &amp; Potential Debt: Limited experience with React, MongoDB, Jest, and Puppeteer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1-2 (reducing over time)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">While the team is using these technologies, a lack of deep understanding can lead to suboptimal implementations, performance issues, or maintainability challenges (potential technical debt). Mitigation: Encourage ongoing learning through documentation, tutorials, and internal knowledge sharing. Implement thorough code reviews focusing on best practices for these technologies. Dedicate time for focused learning on testing frameworks.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implicit Knowledge Risk: Reliance on individual team member knowledge.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Despite efforts towards knowledge sharing, some critical aspects or modules might still heavily rely on the understanding of specific team members. Proactive knowledge transfer and documentation of key functionalities and architectural decisions are crucial to ensure maintainability by the entire team.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-test-report">12. Test Report</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Our application has been tested using the following methods:</p>
</div>
<div class="sect2">
<h3 id="_unit_tests">12.1. Unit tests</h3>
<div class="paragraph">
<p>Unit tests were written to <strong>test each microservice</strong> independently, by mocking the dependent microservices and ensure each microservice works as expected.</p>
</div>
<div class="paragraph">
<p>The unit tests were written using the <strong>Jest</strong> framework, which is a popular testing framework for JavaScript applications.</p>
</div>
<div class="sect3">
<h4 id="_coverage">12.1.1. Coverage</h4>
<div class="paragraph">
<p>These tests have a <strong>minimum required coverage of &gt;80%</strong> of the codebase which, at the time of writing this report is, <strong>86.8%</strong>.</p>
</div>
<div class="paragraph">
<p>For a more detailed report about the coverage, refer to the following <a href="https://sonarcloud.io/component_measures?metric=coverage&amp;view=list&amp;id=Arquisoft_wichat_en1c">link</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_acceptance_integration_tests_e2e_tests">12.2. Acceptance / integration tests (E2E tests)</h3>
<div class="paragraph">
<p>Integration tests were written using the <strong>Cucumber</strong> framework, and <strong>Jest</strong> as the execution platform.</p>
</div>
<div class="paragraph">
<p>A total of <strong>five sets of tests</strong> were created to ensure <strong>all features</strong> of the application are covered and tested.</p>
</div>
<div class="paragraph">
<p>These tests allow verifying that the system behaves as expected when <strong>all components interact together</strong>.</p>
</div>
<div class="paragraph">
<p>The functionalities that were tested are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Register</strong></p>
</li>
<li>
<p><strong>Login</strong></p>
</li>
<li>
<p><strong>Game flow</strong></p>
</li>
<li>
<p><strong>Statistics storage and display</strong></p>
</li>
<li>
<p><strong>Customization of game</strong></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_load_tests">12.3. Load tests</h3>
<div class="paragraph">
<p>Load tests were written using the <strong>Gatling</strong> framework, which is a popular testing framework for load testing.</p>
</div>
<div class="paragraph">
<p>A load test comprising <strong>all the features except for custom games</strong> was created and run by <strong>20 active users</strong> at a time.
Overall the test output was <strong>positive</strong>, as the system was able to handle the most of the load without issues, thus proving the <strong>"performance" quality attribute</strong>.</p>
</div>
<div class="paragraph">
<p>The last test report can be found in the <a href="https://github.com/Arquisoft/wichat_en1c/tree/master/tests/load/lastRun">repository</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/tests/load_test.png" alt="Load Test Report">
</div>
</div>
<div class="sect3">
<h4 id="_issues_found">12.3.1. Issues found</h4>
<div class="paragraph">
<p>Some performance issues were detected during the load tests, and an <a href="https://github.com/Arquisoft/wichat_en1c/issues/137">issue</a> in the repository was created to track them:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We detected that the question service struggled with <strong>getting the first question</strong>, which took <strong>&gt;1200ms</strong> almost half of the time. The question service should be improved to be able to handle more requests.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/tests/slow_questions.png" alt="Slow Questions Issue">
</div>
</div>
<div class="paragraph">
<p>To solve it the queries to <strong>WikiData were optimized</strong> which improved a lot the timings.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/tests/fast_question.png" alt="Solved Question Issue">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Also, we detected that serving the background video stream was a bottleneck, so it should be moved to an external <strong>CDN</strong> to alliviate the load on the <strong>WebApp</strong>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/tests/slow_video.png" alt="Slow Video Issue">
</div>
</div>
<div class="paragraph">
<p>We currently <strong>don&#8217;t have means</strong> for solving this issue, but we are aware of it and will try to solve it in the future.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">13. Glossary</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The most important domain and technical terms that your stakeholders use when discussing the system.</p>
</div>
<div class="paragraph">
<p>You can also see the glossary as source for translations if you work in multi-language teams.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should clearly define your terms, so that all stakeholders</p>
</div>
<div class="ulist">
<ul>
<li>
<p>have an identical understanding of these terms</p>
</li>
<li>
<p>do not use synonyms and homonyms</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with columns &lt;Term&gt; and &lt;Definition&gt;.</p>
</div>
<div class="paragraph">
<p>Potentially more columns in case you need translations.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-12/">Glossary</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Question</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A set comprising: a textual question referring to an image, the image itself, and a series of options where one is correct while the others serve as distractors.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Distractor</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A wrong answer to a question. The distractors are the options that are not correct, and they are used to mislead the user into selecting them instead of the correct answer.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LLM (AI)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A large language model is a type of artificial intelligence that uses deep learning techniques to understand and generate human-like text. It is trained on vast amounts of text data and can perform various natural language processing tasks, such as text generation, translation, summarization, and more. In the context of this project, the LLM is used to generate hints based on questions.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Hint</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Textual clue or suggestion provided to the user (when requested) to help them answer a question correctly. These are generated by the LLM based on the question and the image associated with it.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Docker</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A platform for developing, shipping, and running applications in isolated environments called containers. Used in WiChat for service isolation and portability.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Docker-compose</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A tool for defining and managing multi-container Docker applications.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Microservices Approach</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The architectural style of building an application as a collection of small, independent services.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>API Gateway</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The Gateway component that acts as a single entry point for all client interactions, simplifying access to backend services and enhancing security.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>HTTPS</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Hypertext Transfer Protocol Secure, a protocol for secure communication over a computer network, widely used on the Internet.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>SPARQL</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>SPARQL is a simple query language for data in RDF format (Resource Description Framework). It helps find specific information by describing patterns.</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-annex">14. Annex</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_functional_requirements">14.1. Functional Requirements</h3>
<div class="sect3">
<h4 id="_registration">14.1.1. Registration</h4>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1: The system must allow unregistered users to create an account.</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1: The system shall require the following information for registration:</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1.1: Username (mandatory and unique).</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1.1.1: The username must be:</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1.1.1.1: Longer than or equal to 5 characters</p>
</li>
<li>
<p>FR-REG-1.1.1.1.2: Shorter than or equal to 20 characters</p>
</li>
<li>
<p>FR-REG-1.1.1.1.3: Alphanumeric (no special characters allowed)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-REG-1.1.2: Password (mandatory).</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1.2.1: The password must have at least one from each of the following:</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1.2.1.1: Uppercase letter.</p>
</li>
<li>
<p>FR-REG-1.1.2.1.2: Lowercase letter.</p>
</li>
<li>
<p>FR-REG-1.1.2.1.3: Number.</p>
</li>
<li>
<p>FR-REG-1.1.2.1.4: Special character.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FR-REG-1.1.2.2: The password must have at least 8 characters.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FR-REG-1.1.3: Confirm Password (mandatory).</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-1.1.3.1: The input must be the same as the one in the Password field.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-REG-2: The system shall validate input data.</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-2.1: If any field is invalid, the system shall prevent registration.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FR-REG-3: The system shall check for duplicate accounts.</p>
<div class="ulist">
<ul>
<li>
<p>FR-REG-3.1: If an account with the same username already exists, the system shall prevent registration.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_login_and_logout">14.1.2. Login and Logout</h4>
<div class="ulist">
<ul>
<li>
<p>FR-LOG-1: The system must allow unidentified users to log in.</p>
<div class="ulist">
<ul>
<li>
<p>FR-LOG-1.1: The system shall require the following information for log in:</p>
<div class="ulist">
<ul>
<li>
<p>FR-LOG-1.1.1: Username (mandatory).</p>
</li>
<li>
<p>FR-LOG-1.1.2: Password (mandatory).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-LOG-2: The system shall validate login credentials.</p>
</li>
<li>
<p>FR-LOG-3: The system must allow logged-in users to log out at any time.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_user_data_management">14.1.3. User Data Management</h4>
<div class="ulist">
<ul>
<li>
<p>FR-UPD-1: The system must allow users to access their historical data.</p>
<div class="ulist">
<ul>
<li>
<p>FR-UPD-1.1: The system shall display the following statistics for each user:</p>
<div class="ulist">
<ul>
<li>
<p>FR-UPD-1.1.1: Number of games played.</p>
</li>
<li>
<p>FR-UPD-1.1.2: Number of questions answered correctly.</p>
</li>
<li>
<p>FR-UPD-1.1.3: Number of questions answered incorrectly.</p>
</li>
<li>
<p>FR-UPD-1.1.4: Number of questions unanswered.</p>
</li>
<li>
<p>FR-UPD-1.1.5: Total time played.</p>
</li>
<li>
<p>FR-UPD-1.1.6: Minimum time spent per game.</p>
</li>
<li>
<p>FR-UPD-1.1.7: Maximum time spent per game.</p>
</li>
<li>
<p>FR-UPD-1.1.8: Average time spent per game.</p>
</li>
<li>
<p>FR-UPD-1.1.9: Minimum time spent per question.</p>
</li>
<li>
<p>FR-UPD-1.1.10: Maximum time spent per question.</p>
</li>
<li>
<p>FR-UPD-1.1.11: Average time spent per question.</p>
</li>
<li>
<p>FR-UPD-1.1.12: Total number of questions answered.</p>
</li>
<li>
<p>FR-UPD-1.1.13: Accuracy percentage (based on correct/total questions).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_game_session">14.1.4. Game Session</h4>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-1: The system shall allow only authentified users to play.</p>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-1.1: The game shall consist of 10 rounds.</p>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-1.1.1: Each round shall include:</p>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-1.1.1.1: A generated question from Wikidata using a template.</p>
</li>
<li>
<p>FR-GAME-1.1.1.2: A set of possible answers (one correct, at least one distractor).</p>
</li>
<li>
<p>FR-GAME-1.1.1.3: An image from Wikidata related to the question.</p>
</li>
<li>
<p>FR-GAME-1.1.1.4: A time limit of 20 seconds to answer the question.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-GAME-1.2: The system shall move to the next round when:</p>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-1.2.1: An answer is submitted.</p>
</li>
<li>
<p>FR-GAME-1.2.2: Time runs out.</p>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-1.2.2.1: When time runs out the question is considered incorrectly answered.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-GAME-1.3: The game shall end after all the rounds are completed.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FR-GAME-2: The system shall allow authentified users to play against the AI.</p>
<div class="ulist">
<ul>
<li>
<p>FR-GAME-2.1: The configuration would be the same as the normla game.</p>
</li>
<li>
<p>FR-GAME-2.2: At the end of the game the result of the game shall be informed to the user.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_hint_system">14.1.5. Hint System</h4>
<div class="ulist">
<ul>
<li>
<p>FR-HINT-1: The system shall allow users to request hints for a question.</p>
<div class="ulist">
<ul>
<li>
<p>FR-HINT-1.1: The hints shall be generated using an LLM.</p>
<div class="ulist">
<ul>
<li>
<p>FR-HINT-1.1.1: The system shall send to the LLM:</p>
<div class="ulist">
<ul>
<li>
<p>FR-HINT-1.1.1.1: The message from the player.</p>
</li>
<li>
<p>FR-HINT-1.1.1.2: An additonal message explaining that it is being used as a hint provider for a quiz game.</p>
</li>
<li>
<p>FR-HINT-1.1.1.3: The question.</p>
</li>
<li>
<p>FR-HINT-1.1.1.4: The correct answer.</p>
</li>
<li>
<p>FR-HINT-1.1.1.5: The distractors.</p>
</li>
<li>
<p>FR-HINT-1.1.1.6: The previous hints given by the LLM for that question if possible.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-HINT-1.2: The system shall allow up to 3 hints per question.</p>
</li>
<li>
<p>FR-HINT-1.3: After getting a hint, there will be a cooldown of 3 seconds for asking again.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_custom_games">14.1.6. Custom Games</h4>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1: The system shall allow users to create custom game sessions.</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1: The system shall allow users to customize:</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1.1: Number of rounds.</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1.2.1: The minimum number will be 1 round.</p>
</li>
<li>
<p>FR-CGAME-1.1.2.2: The maximum number will be 50 rounds.</p>
</li>
<li>
<p>FR-CGAME-1.1.2.3: There will be an option for infinite rounds.</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1.2.3.1: In this case, the game will end when a question is answered incorrectly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>FR-CGAME-1.1.2: Time per question in seconds.</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1.2.1: The minimum time will be 10 seconds.</p>
</li>
<li>
<p>FR-CGAME-1.1.2.2: The maximum time will be 60 seconds.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FR-CGAME-1.1.3: Hints per question.</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1.3.1: The minimum will be 0 hints.</p>
</li>
<li>
<p>FR-CGAME-1.1.3.2: The maximum will be 5 hints.</p>
</li>
</ul>
</div>
</li>
<li>
<p>FR-CGAME-1.1.3: There will be an option for AI game mode.</p>
</li>
<li>
<p>FR-CGAME-1.1.4: Question categories.</p>
<div class="ulist">
<ul>
<li>
<p>FR-CGAME-1.1.4.1: If no category is selected, all categories would be active.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_question_management">14.1.7. Question Management</h4>
<div class="ulist">
<ul>
<li>
<p>FR-APIQ-1: The system shall provide an API to access generated questions.</p>
<div class="ulist">
<ul>
<li>
<p>FR-APIQ-1.1: The API shall include endpoints to retrieve questions and answers.</p>
</li>
<li>
<p>FR-APIQ-1.2: The API shall be documented for developers.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_user_data_access">14.1.8. User Data Access</h4>
<div class="ulist">
<ul>
<li>
<p>FR-APIU-1: The system shall provide an API to access user data.</p>
<div class="ulist">
<ul>
<li>
<p>FR-APIU-1.1: The API shall include endpoints for retrieving user statistics.</p>
</li>
<li>
<p>FR-APIU-1.2: The API shall be documented for developers.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 8.2 EN<br>
Last updated 2025-05-04 00:13:41 +0200
</div>
</div>
</body>
</html>